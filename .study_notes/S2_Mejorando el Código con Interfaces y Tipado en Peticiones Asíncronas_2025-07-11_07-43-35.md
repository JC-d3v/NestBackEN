## Resumen de apuntes
Loaded cached credentials.
Claro, aqu铆 tienes el apunte de estudio en formato Markdown basado en el commit proporcionado.

---

# S10: Mejorando el C贸digo con Interfaces y Tipado en Peticiones As铆ncronas

En esta sesi贸n, exploramos c贸mo mejorar la robustez y claridad de nuestro c贸digo al interactuar con APIs externas. El cambio principal se centra en abandonar el tipo `any`que anula las ventajas de TypeScripty adoptar un tipado estricto mediante interfaces.

## 驴Por Qu茅 es Importante Tipar las Respuestas de una API?

Cuando realizamos una petici贸n a una API con `axios` o `fetch`, TypeScript no conoce la estructura de los datos que recibiremos. Por defecto, los trata como `any`, lo que nos deja sin autocompletado y sin verificaci贸n de tipos en tiempo de compilaci贸n. Esto es propenso a errores que solo descubriremos en tiempo de ejecuci贸n.

La soluci贸n es definir expl铆citamente la "forma" de la respuesta de la API usando una **interfaz**.

### 1. Creaci贸n de la Interfaz de Respuesta

Se ha creado un nuevo archivo para definir la estructura de la respuesta de la PokeAPI.

**Archivo Nuevo:** `src/interfaces/pokeapi-response.interface.ts`

// Generated by https://quicktype.io

export interface PokeapiResponseInterface {
	abilities: Ability[];
	base_experience: number;
	cries: Cries;
	forms: Species[];
	game_indices: GameIndex[];
	height: number;
	held_items: any[];
	id: number;
	is_default: boolean;
	location_area_encounters: string;
	moves: Move[];
	name: string;
	order: number;
	past_abilities: any[];
	past_types: any[];
	species: Species;
	sprites: Sprites;
	stats: Stat[];
	types: Type[];
	weight: number;
}

export interface Ability {
	ability: Species;
	is_hidden: boolean;
	slot: number;
}

export interface Species {
	name: string;
	url: string;
}

// ... y otras interfaces que definen la estructura completa

> ** Pro-Tip:** Herramientas como [Quicktype.io](https://quicktype.io/) son incre铆blemente 煤tiles. Puedes pegar una respuesta JSON de una API y generar谩 autom谩ticamente las interfaces en el lenguaje que necesites, ahorr谩ndote mucho tiempo.

### 2. Aplicando el Tipado en el C贸digo

Una vez definida la interfaz, la aplicamos en nuestra clase `Pokemon` para darle a TypeScript toda la informaci贸n que necesita.

**Archivo Modificado:** `src/bases/03-clases.ts`

#### C贸digo Anterior (Sin Tipado Estricto)

Antes, el m茅todo `getMoves` no especificaba el tipo de dato que `axios` devolver铆a, y el m茅todo mismo no declaraba qu茅 tipo de `Promise` retornaba.

import axios from 'axios';

export class Pokemon {
	// ...

	async getMoves() {
		// La constante "data" es de tipo "any"
		const { data } = await axios.get('https://pokeapi.co/api/v2/pokemon/4');
		console.log(data.moves);
		return data.moves;
	}
}

#### C贸digo Nuevo (Con Tipado Estricto)

Ahora, usamos **gen茅ricos** en `axios` y tipamos el valor de retorno de la funci贸n.

import axios from 'axios';
// 1. Importamos la interfaz principal y el tipo espec铆fico que necesitamos
import {
	PokeapiResponseInterface,
	Move,
} from '../interfaces/pokeapi-response.interface';

export class Pokemon {
	// ...

	// 2. Tipamos el valor de retorno del m茅todo as铆ncrono
	async getMoves(): Promise<Move[]> {
		// 3. Usamos un gen茅rico para decirle a axios c贸mo luce la data
		const { data } = await axios.get<PokeapiResponseInterface>(
			'https://pokeapi.co/api/v2/pokemon/4'
		);

		// Ahora TypeScript sabe que "data.moves" es un array de tipo "Move"
		console.log(data.moves);
		return data.moves;
	}
}

## Conclusiones Clave

1.  **Interfaces para Contratos de API:** Las interfaces son la herramienta fundamental en TypeScript para describir la estructura de objetos, especialmente los que provienen de fuentes externas como las APIs.
2.  **Gen茅ricos en `axios`:** Al usar `axios.get<MiInterfaz>(...)`, le proporcionamos a `axios` (y a TypeScript) el "molde" de la respuesta. Esto activa el autocompletado y la detecci贸n de errores en nuestro editor de c贸digo.
3.  **Tipado en M茅todos As铆ncronos:** Declarar el tipo de retorno como `Promise<TipoDeDato>` hace que el contrato de nuestro m茅todo sea expl铆cito y seguro, mejorando la predictibilidad y mantenibilidad del c贸digo.

---
*Este apunte fue generado autom谩ticamente.*
